"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[887],{7887:(y,g,i)=>{i.r(g),i.d(g,{LoginModule:()=>C});var n=i(9808),c=i(4182),o=i(2096),a=i(1871),p=i(7730),u=i(2290),m=i(8965),d=i(9842),f=i(576),h=i(4124);const v=[{path:"",component:(()=>{class l{constructor(r,e,s,b,P,Z){this.fb=r,this.accountService=e,this.preferencesService=s,this.toastService=b,this.busyService=P,this.routerService=Z}ngOnInit(){this.initializeForm();var r=document.querySelector("video");r.muted=!0,r.play()}initializeForm(){this.loginForm=this.fb.group({username:["",[c.kI.required]],password:["",[c.kI.required]]})}login(){let r={username:this.loginForm.controls.username.value,password:this.loginForm.controls.password.value};this.busyService.busy();let e=this.preferencesService.getPreferences();this.accountService.login(r).subscribe(s=>{if(this.busyService.idle(),e.user=s,this.preferencesService.setPreferences(e),!e.user.permissions.includes("Administrator"))return e.nextPage?(this.routerService.navigateByUrl(e.nextPage),e.nextPage=null,void this.preferencesService.setPreferences(e)):void this.routerService.navigateByUrl("/");this.routerService.navigateByUrl("/admin-portal/dashboard")},s=>{this.busyService.idle(),this.toastService.error(s.error)})}}return l.\u0275fac=function(r){return new(r||l)(o.Y36(c.qu),o.Y36(a.B),o.Y36(p.y),o.Y36(u._W),o.Y36(m.z),o.Y36(d.F0))},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-login"]],decls:32,vars:11,consts:[[1,"hero-container"],[1,"img-container"],["src","../../../assets/images/coatofarms.png",1,"hero-img"],[1,"hero-title","text"],[1,"form-container-container"],[1,"form-container"],[1,"form-header"],[1,"text"],[3,"formGroup"],[1,"form-control-group"],[1,"text","form-text"],["id","'username",1,"form-control-container",3,"type","formControl","label","placeholder"],["id","'password'",3,"type","formControl","label","placeholder"],[3,"label","disabled","click"],[1,"link-group"],["href","https://1gov.gov.bw/",1,"forgot-password-link"]],template:function(r,e){1&r&&(o.TgZ(0,"body")(1,"article",0)(2,"article",1),o._UZ(3,"img",2),o.TgZ(4,"h1",3),o._uU(5," MESD Learning Management System Executive Reporting Dashboard "),o.qZA()(),o.TgZ(6,"article",4)(7,"div",5)(8,"div",6)(9,"h2",7),o._uU(10,"Welcome Back."),o.qZA(),o.TgZ(11,"p",7),o._uU(12,"Please sign into your account"),o.qZA()(),o.TgZ(13,"form",8)(14,"div",9)(15,"label",10),o._uU(16,"Username"),o.qZA(),o._UZ(17,"app-text-input",11),o.qZA(),o.TgZ(18,"div",9)(19,"label",7),o._uU(20,"Password"),o.qZA(),o._UZ(21,"app-text-input",12),o.qZA(),o.TgZ(22,"app-btn",13),o.NdJ("click",function(){return e.loginForm.valid&&e.login()}),o.qZA(),o.TgZ(23,"div",14)(24,"p",7),o._uU(25," Don't have an account? "),o.TgZ(26,"a",15),o._uU(27,"Create Account"),o.qZA()(),o.TgZ(28,"p",7),o._uU(29," Forgot password? "),o.TgZ(30,"a",15),o._uU(31,"Reset Password"),o.qZA()()()()()()()()),2&r&&(o.xp6(13),o.Q6J("formGroup",e.loginForm),o.xp6(4),o.Q6J("type","text")("formControl",e.loginForm.controls.username)("label","username")("placeholder","Username"),o.xp6(4),o.Q6J("type","password")("formControl",e.loginForm.controls.password)("label","password")("placeholder","*************"),o.xp6(1),o.Q6J("label","Sign in")("disabled",!e.loginForm.valid))},dependencies:[c._Y,c.JJ,c.JL,c.oH,c.sg,f.t,h.H],styles:["body[_ngcontent-%COMP%]{background-color:#f5f6fa;height:100vh}.hero-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:5fr 1fr}.img-container[_ngcontent-%COMP%]{width:500px;text-align:center;margin:auto}.hero-img[_ngcontent-%COMP%]{width:350px;margin-bottom:1rem}.form-container-container[_ngcontent-%COMP%]{background-color:#fff;display:flex;height:100vh;padding:3rem}.form-container[_ngcontent-%COMP%]{background-color:#fff;min-width:400px;height:min-content;justify-self:center;margin:auto}.form-control-group[_ngcontent-%COMP%]{margin:1rem 0;display:flex;flex-direction:column;gap:.5rem}.form-header[_ngcontent-%COMP%]{padding-bottom:1.5rem;display:flex;flex-direction:column;border-bottom:.5px solid var(--light-gray)}.hero-title[_ngcontent-%COMP%]{font-size:1.5rem}p.text[_ngcontent-%COMP%]{color:#999;font-size:.9rem}.company-logo[_ngcontent-%COMP%]{width:3.5rem}.link-group[_ngcontent-%COMP%]{margin:2rem 0;display:flex;flex-direction:column;gap:1rem;font-size:.75rem}@media (max-width: 600px){.video[_ngcontent-%COMP%]{display:none}.content-container[_ngcontent-%COMP%]{z-index:2;padding:2rem;display:flex;flex-wrap:wrap-reverse;justify-content:center}.headline[_ngcontent-%COMP%]{display:none}.form-container[_ngcontent-%COMP%]{width:100%}}"]}),l})()}];let x=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[d.Bz.forChild(v),d.Bz]}),l})();var _=i(4498);let C=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[n.ez,x,c.UX,_.e]}),l})()},8965:(y,g,i)=>{i.d(g,{z:()=>o});var n=i(2096),c=i(72);let o=(()=>{class a{constructor(u){this.spinnerService=u,this.busyRequestCount=0}busy(){this.busyRequestCount++,this.spinnerService.show(void 0,{type:"ball-clip-rotate",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff"})}idle(){this.busyRequestCount--,this.busyRequestCount<=0&&(this.busyRequestCount=0,this.spinnerService.hide())}}return a.\u0275fac=function(u){return new(u||a)(n.LFG(c.t2))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},576:(y,g,i)=>{i.d(g,{t:()=>l});var n=i(2096),c=i(4182),o=i(9808),a=i(1424);function p(t,r){if(1&t&&(n.ynx(0),n._UZ(1,"input",1),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.ekj("is-invalid",e.ngControl.touched&&e.ngControl.invalid),n.s9C("type",e.type),n.s9C("id",e.id),n.s9C("placeholder",e.placeholder),n.Q6J("formControl",e.ngControl.control)}}function u(t,r){if(1&t&&(n.ynx(0),n._UZ(1,"input",2),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.ekj("is-invalid",e.ngControl.touched&&e.ngControl.invalid),n.s9C("type",e.type),n.s9C("id",e.id),n.s9C("placeholder",e.placeholder),n.Q6J("formControl",e.ngControl.control)}}function m(t,r){if(1&t&&(n.TgZ(0,"div",4),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.hij(" Please enter your ",e.label," ")}}function d(t,r){if(1&t&&(n.TgZ(0,"div",4),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.hij(" Please enter a valid ",e.label," address ")}}function f(t,r){if(1&t&&(n.TgZ(0,"div",4),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.AsE(" Your ",e.label," must be at least ",e.ngControl.control.errors.minlength.requiredLength," characters ")}}function h(t,r){if(1&t&&(n.TgZ(0,"div",4),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.AsE(" Your ",e.label," must be at most ",e.ngControl.control.errors.maxlength.requiredLength," characters ")}}function T(t,r){if(1&t&&(n.TgZ(0,"div",4),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.hij(" Your ",e.label,"s dont match ")}}function v(t,r){if(1&t&&(n.TgZ(0,"div",4),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.hij(" You cannot have numbers or special characters in your ",e.label," ")}}function x(t,r){if(1&t&&(n.TgZ(0,"div",4),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.hij(" You can on have numbers in ",e.label," ")}}function _(t,r){1&t&&(n.TgZ(0,"div",4),n._uU(1," You have to pick a time with in operating hours "),n.qZA())}function C(t,r){if(1&t&&(n.ynx(0),n.YNc(1,m,2,1,"div",3),n.YNc(2,d,2,1,"div",3),n.YNc(3,f,2,2,"div",3),n.YNc(4,h,2,2,"div",3),n.YNc(5,T,2,1,"div",3),n.YNc(6,v,2,1,"div",3),n.YNc(7,x,2,1,"div",3),n.YNc(8,_,2,0,"div",3),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",null==e.ngControl.control.errors?null:e.ngControl.control.errors.required),n.xp6(1),n.Q6J("ngIf",null==e.ngControl.control.errors?null:e.ngControl.control.errors.email),n.xp6(1),n.Q6J("ngIf",null==e.ngControl.control.errors?null:e.ngControl.control.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==e.ngControl.control.errors?null:e.ngControl.control.errors.maxlength),n.xp6(1),n.Q6J("ngIf",null==e.ngControl.control.errors?null:e.ngControl.control.errors.isMatching),n.xp6(1),n.Q6J("ngIf",null==e.ngControl.control.errors?null:e.ngControl.control.errors.hasNumbers),n.xp6(1),n.Q6J("ngIf",null==e.ngControl.control.errors?null:e.ngControl.control.errors.hasLetters),n.xp6(1),n.Q6J("ngIf",null==e.ngControl.control.errors?null:e.ngControl.control.errors.isInRange)}}let l=(()=>{class t{constructor(e){this.ngControl=e,this.type="text",this.placeholder="",this.id="",this.ngControl.valueAccessor=this}writeValue(e){}registerOnChange(e){}registerOnTouched(e){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(c.a5,2))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-text-input"]],inputs:{label:"label",type:"type",placeholder:"placeholder",id:"id",Disabled:"Disabled"},decls:3,vars:3,consts:[[4,"ngIf"],["pInputText","","disabled","",1,"text-form-control",3,"type","id","formControl","placeholder"],["pInputText","",1,"text-form-control",3,"type","id","formControl","placeholder"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(e,s){1&e&&(n.YNc(0,p,2,6,"ng-container",0),n.YNc(1,u,2,6,"ng-container",0),n.YNc(2,C,9,8,"ng-container",0)),2&e&&(n.Q6J("ngIf",s.Disabled),n.xp6(1),n.Q6J("ngIf",!s.Disabled),n.xp6(1),n.Q6J("ngIf",s.ngControl.touched&&s.ngControl.invalid))},dependencies:[o.O5,c.Fj,c.JJ,c.oH,a.o],styles:[".text-form-control[_ngcontent-%COMP%]{width:100%}.is-invalid[_ngcontent-%COMP%]{border:1px solid red}.invalid-feedback[_ngcontent-%COMP%]{color:red;font-weight:700;font-size:.75rem;margin-top:.5rem;margin-left:.5rem}"]}),t})()}}]);