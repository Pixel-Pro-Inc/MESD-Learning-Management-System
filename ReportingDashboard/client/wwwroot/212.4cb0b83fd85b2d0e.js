"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[212],{7212:(x,m,n)=>{n.r(m),n.d(m,{AccountCreationModule:()=>Z});var c=n(9808),r=n(4182),e=n(2096),p=n(1871),d=n(2290),g=n(8965),f=n(7730),a=n(9842),h=n(576),C=n(4008),u=n(6526);const y=[{path:"",component:(()=>{class t{constructor(i,o,l,A,F,U){this.fb=i,this.accountService=o,this.toastService=l,this.busyService=A,this.preferencesService=F,this.routerService=U,this.permissions=["Administrator","Account Management","Permits","Certificates","Licenses","External"]}ngOnInit(){this.initializeForm()}initializeForm(){this.userForm=this.fb.group({firstname:["",[r.kI.required]],lastname:["",[r.kI.required]],username:["",[r.kI.required]],email:["",[r.kI.required,r.kI.email]],nationalIdentityNumber:["",[r.kI.required]],password:["",[r.kI.required]],countryCode:["",r.kI.required],phoneNumber:["",r.kI.required]})}registerUser(){let i={firstname:this.userForm.controls.firstname.value,lastname:this.userForm.controls.lastname.value,username:this.userForm.controls.username.value,permissions:["External"],email:this.userForm.controls.email.value,nationalIdentityNumber:this.userForm.controls.nationalIdentityNumber.value,password:this.userForm.controls.password.value,phoneNumber:{countryCode:this.userForm.controls.countryCode.value.dialingCode.substring(this.userForm.controls.countryCode.value.dialingCode.indexOf("+")),number:this.userForm.controls.phoneNumber.value}};this.busyService.busy(),this.preferencesService.getPreferences(),this.accountService.registerUser(i).subscribe(l=>{this.busyService.idle(),this.toastService.success("User successfully registered!")},l=>{this.busyService.idle(),this.toastService.error(l.error,"Error")})}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(r.qu),e.Y36(p.B),e.Y36(d._W),e.Y36(g.z),e.Y36(f.y),e.Y36(a.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-account-creation"]],decls:46,vars:34,consts:[[1,"content-container"],[1,"title-container"],[1,"text"],[1,"form-container",3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-control-group"],[1,"form-control-container",3,"type","formControl","label","placeholder"],[3,"type","formControl","label","placeholder"],[1,"phone-number-group"],[3,"formControl","defaultCountryName"],["id","'phoneNumber",1,"form-control-container",3,"type","formControl","label","placeholder"],[1,"form-group-two-column"],["formControlName","permissions","defaultLabel","Select permissions",3,"filter","options"],[1,"btn","btn-register",3,"disabled"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Register User"),e.qZA()(),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return o.userForm.valid&&o.registerUser()}),e.TgZ(5,"article",4)(6,"div",5)(7,"label",2),e._uU(8,"First Name"),e.qZA(),e._UZ(9,"app-text-input",6),e.qZA(),e.TgZ(10,"div",5)(11,"label",2),e._uU(12,"Last Name"),e.qZA(),e._UZ(13,"app-text-input",7),e.qZA(),e.TgZ(14,"div",5)(15,"label",2),e._uU(16,"Phone Number"),e.qZA(),e.TgZ(17,"div",8),e._UZ(18,"app-country-code-selection",9)(19,"app-text-input",10),e.qZA()()(),e.TgZ(20,"article",11)(21,"div",5)(22,"label",2),e._uU(23,"User Name"),e.qZA(),e._UZ(24,"app-text-input",6),e.qZA(),e.TgZ(25,"div",5)(26,"label",2),e._uU(27,"Email"),e.qZA(),e._UZ(28,"app-text-input",7),e.qZA()(),e.TgZ(29,"article",11)(30,"div",5)(31,"label",2),e._uU(32,"National Identity Number"),e.qZA(),e._UZ(33,"app-text-input",6),e.qZA(),e.TgZ(34,"div",5)(35,"label",2),e._uU(36,"Password"),e.qZA(),e._UZ(37,"app-text-input",7),e.qZA()(),e.TgZ(38,"article",11)(39,"div",5)(40,"label",2),e._uU(41,"Permissions"),e.qZA(),e._UZ(42,"p-multiSelect",12),e.qZA()(),e.TgZ(43,"article",4)(44,"button",13),e._uU(45," Register User "),e.qZA()()()()),2&i&&(e.xp6(4),e.Q6J("formGroup",o.userForm),e.xp6(5),e.Q6J("type","text")("formControl",o.userForm.controls.firstname)("label","first name")("placeholder","First Name"),e.xp6(4),e.Q6J("type","text")("formControl",o.userForm.controls.lastname)("label","last name")("placeholder","Last Name"),e.xp6(5),e.Q6J("formControl",o.userForm.controls.countryCode)("defaultCountryName","BWA"),e.xp6(1),e.Q6J("type","text")("formControl",o.userForm.controls.phoneNumber)("label","phone number")("placeholder","Enter phone number"),e.xp6(5),e.Q6J("type","text")("formControl",o.userForm.controls.username)("label","user name")("placeholder","User Name"),e.xp6(4),e.Q6J("type","email")("formControl",o.userForm.controls.email)("label","email")("placeholder","Email"),e.xp6(5),e.Q6J("type","text")("formControl",o.userForm.controls.nationalIdentityNumber)("label","national identity number")("placeholder","National Identity Number"),e.xp6(4),e.Q6J("type","text")("formControl",o.userForm.controls.password)("label","password")("placeholder","Password"),e.xp6(5),e.Q6J("filter",!1)("options",o.permissions),e.xp6(2),e.Q6J("disabled",!o.userForm.valid))},dependencies:[h.t,C.D,u.NU,r._Y,r.JJ,r.JL,r.oH,r.sg,r.u],styles:[".content-container[_ngcontent-%COMP%]{padding:0 2rem}.title-container[_ngcontent-%COMP%]{border-bottom:1px solid var(--light-gray);padding:1rem 0}.form-container[_ngcontent-%COMP%]{padding:1rem;width:100%}.form-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;padding:1rem}.form-group-two-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem}.form-group-one-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,1fr);gap:1rem;padding:1rem}label[_ngcontent-%COMP%]{font-size:.8rem;display:block;margin:.5rem 0}.btn-register[_ngcontent-%COMP%]{width:90%;border-radius:.25rem}.phone-number-group[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-shrink:0;gap:.5rem}.text-form-control[_ngcontent-%COMP%]{text-align:center}.text-form-control.country-code[_ngcontent-%COMP%]{width:min-content;height:min-content;font-weight:700}.country-code-container[_ngcontent-%COMP%]{display:flex;gap:.25rem}.form-control-container[_ngcontent-%COMP%]{width:100%}.time-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}input[type=file][_ngcontent-%COMP%]{font-size:.6rem}[_nghost-%COMP%]     .p-multiselect{width:100%;max-width:100%}[_nghost-%COMP%]     .p-multiselect:hover{font-family:sans-serif}"]}),t})()}];let v=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.Bz.forChild(y),a.Bz]}),t})();var b=n(4498);let Z=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,v,b.e,u.q4,r.UX]}),t})()}}]);